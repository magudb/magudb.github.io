---
layout: page
title: Categories
permalink: /categories/
---

{% comment %}
Generate all unique categories from posts
{% endcomment %}

{% assign rawcats = "" %}
{% for post in site.posts %}
  {% assign tcats = post.category | join:'|' | append:'|' %}
  {% assign rawcats = rawcats | append:tcats %}
{% endfor %}

{% assign rawcats = rawcats | split:'|' | sort %}

{% assign cats = "" %}
{% for cat in rawcats %}
  {% if cat != "" %}
    {% if cats == "" %}
      {% assign cats = cat | split:'|' %}
    {% endif %}
    {% unless cats contains cat %}
      {% assign cats = cats | join:'|' | append:'|' | append:cat | split:'|' %}
    {% endunless %}
  {% endif %}
{% endfor %}

<nav class="category-nav">
  {% for ct in cats %}
    <a href="#{{ ct | slugify }}">{{ ct }}</a>
  {% endfor %}
  <a href="#uncategorized">Uncategorized</a>
</nav>

<div class="category-sections">
  {% for ct in cats %}
    <section class="category-section">
      <h2 id="{{ ct | slugify }}" class="category-title">{{ ct }}</h2>

      <div class="post-list">
        {% assign current_year = "" %}
        {% for post in site.posts %}
          {% if post.category contains ct %}
            {% capture post_year %}{{ post.date | date: '%Y' }}{% endcapture %}
            {% if post_year != current_year %}
              {% assign current_year = post_year %}
              <h3 class="year-heading">{{ current_year }}</h3>
            {% endif %}
            <div class="table">
              <article class="row">
                <div class="title article-title">
                  <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
                </div>
                <div class="dots"></div>
                <div class="value date-label">{{ post.date | date: "%b %d" }}</div>
              </article>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </section>
  {% endfor %}

  <section class="category-section">
    <h2 id="uncategorized" class="category-title">Uncategorized</h2>

    <div class="post-list">
      {% assign has_uncategorized = false %}
      {% for post in site.posts %}
        {% unless post.category %}
          {% assign has_uncategorized = true %}
          <div class="table">
            <article class="row">
              <div class="title article-title">
                <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
              </div>
              <div class="dots"></div>
              <div class="value date-label">{{ post.date | date: "%b %d, %Y" }}</div>
            </article>
          </div>
        {% endunless %}
      {% endfor %}
      {% unless has_uncategorized %}
        <p class="empty-message">No uncategorized posts.</p>
      {% endunless %}
    </div>
  </section>
</div>

<style>
/* Category navigation - dense, scannable */
.category-nav {
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #1a1a1a;
}

.category-nav a {
  display: inline-block;
  margin-right: 1rem;
  margin-bottom: 0.5rem;
  color: #333;
  text-decoration: none;
  font-size: 0.875rem;
}

.category-nav a:hover {
  color: #0455BF;
}

/* Category sections */
.category-section {
  margin-bottom: 2rem;
}

.category-section .category-title {
  margin-top: 2rem;
  margin-bottom: 0.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #ddd;
}

.category-section .category-title:first-child {
  margin-top: 0;
}

/* Year headings within categories */
.year-heading {
  font-size: 0.875rem;
  font-weight: 700;
  color: #666;
  margin: 1.5rem 0 0.5rem 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.year-heading:first-child {
  margin-top: 0.5rem;
}

.empty-message {
  color: #999;
  font-style: italic;
  font-size: 0.875rem;
}
</style>
